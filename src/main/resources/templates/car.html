<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Car</title>
    <link href="/css/datepicker.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body class="bg-dark text-light">

<br/>
<div class="container">
    <div class="card text-white bg-secondary">
        <div class="card-header">
            <div th:text="${car.getMake()}+' '+${car.getModel()}"></div>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-sm-4">
                    <form id="dateform" th:action="'/cars/'+${car.id}+'/notes'">
                        <input id="datepicker" name="date"/>
                    </form>
                </div>
                <div class="col-sm-8">
                    <img th:src="'/files/'+${car.imgFilename}"
                         style="max-width: 100%; max-height: 370px;">
                </div>
            </div>
        </div>
        <div class="card-footer">

        </div>
    </div>
</div>

<br/>
<div class="container">
    <form method="get" action="/cars">
        <button type="submit" class="btn btn-outline-light"><< К выбору авто</button>
    </form>
</div>
<br/>


<script src="/js/lang/ru.js"></script>
<script src="/js/datepicker.js"></script>
<script>
    datePickerController.createDatePicker({
        formElements: {"datepicker": "%d.%m.%Y"},
        statusFormat: "%l, %j %F %Y",
        staticPos: true,
        hideInput: true,
        callbackFunctions: {
            "datereturned": [formsubmit]
        }
    });

    function formsubmit() {
        var form = document.getElementById('dateform');
        form.submit();
    }

</script>

</body>
</html>
